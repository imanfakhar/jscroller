(function(){jQuery.fn.jScroller=function(h,i){function c(){0===b.find("#jscroll-loading").length&&(b.find(".jscroll-loadmore").parent("div").remove(),b.append('<a id="jscroll-loading">'+a.loadingButtonText+"</a>"));jQuery.ajax({url:h,type:"POST",data:e,timeOut:a.timeOut,success:function(f){b.find("#jscroll-loading").remove();if(f.Success===false)a.onErrorCallback(b,f.Message);else{for(var c=0;c<f.data.length;c++)if(d===false)a.onSuccessCallback(f.data[c],b);g===false&&d===false&&b.append('<div><a class="jscroll-loadmore">'+
a.loadMoreButtonText+"</a></div>");e.start=e.start+a.numberOfRowsToRetrieve;if(e.start>=f.total){d=true;b.find("#jscroll-fulllist").remove();b.find(".jscroll-loadmore").parent("div").remove();b.append('<div id="jscroll-fulllist">'+a.fullListText+"</div>")}}},error:function(b,e,d){if(d==="timeout"){a.onTimeOutCallback();if(a.retryOnTimeOut){a.timeOut=a.timeOut+1*a.autoIncreaseTimeOut;c()}}else a.onErrorCallback(d)}})}function j(){b.on("click",".jscroll-loadmore",function(){c();jQuery(this).parent("div").remove()})}
var a=jQuery.extend({numberOfRowsToRetrieve:10,onSuccessCallback:function(){},onErrorCallback:function(){window.alert("An error occurred while trying to retrive data from store")},onTimeOutCallback:function(){},timeOut:3E3,autoIncreaseTimeOut:1E3,retryOnTimeOut:!1,loadingButtonText:"Loading...",loadMoreButtonText:"Load more",fullListText:"There is no more items to show",extraParams:null},i),b=jQuery(this),d=!1,g=!1,e;e=null===a.extraParams?{start:0,numberOfRowsToRetrieve:a.numberOfRowsToRetrieve}:
{start:0,numberOfRowsToRetrieve:a.numberOfRowsToRetrieve,extraParams:a.extraParams};b.html("");jQuery(window).scroll(function(){var a=jQuery(this);a.scrollTop()===jQuery(document).height()-a.height()&&!d&&(g=!0,c());return!1});jQuery(document).ready(function(){j();c()})}})(jQuery);